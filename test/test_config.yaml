# global configuration parameters
CONFIG: &CONFIG
  version: 0.0.1
  units: &UNITS raw
  lower_limit: &LIMIT_LOW 750
  upper_limit: &LIMIT_HIGH 20000
  adc_sample_rate: 860
  adc_gain: 1
  adc_channel: 1
# define any actions that you want to reuse multiple times in multiple routines
ACTIONS: &ACTIONS
  CLEANUP: !Action &CLEANUP
    name: CLEANUP
  RESET_MIN:  !Action &RESET_MIN
    name: RESET_MIN
    params:
      units: *UNITS
      low: *LIMIT_LOW
      high: *LIMIT_HIGH
  RESET_MAX: !Action &RESET_MAX
    name: RESET_MAX
    params:
      units: *UNITS
      low: *LIMIT_LOW
      high: *LIMIT_HIGH
# begin routine definitions
ROUTINES: &ROUTINES
  - !Routine
    name: reset_min
    units: *UNITS
    actions:
      RESET_MIN: *RESET_MIN
      CLEANUP: *CLEANUP
    transitions:
        START:
          '*': RESET_MIN
        RESET_MIN:
          '*': CLEANUP
        CLEANUP:
          '*': END
  - !Routine
    name: reset_max
    units: *UNITS
    output: stdout
    actions:
      RESET_MAX: *RESET_MAX
      CLEANUP: *CLEANUP
    transitions:
      START:
        '*': RESET_MAX
      RESET_MAX:
        '*': CLEANUP
      CLEANUP:
        '*': END
